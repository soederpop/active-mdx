<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/_next/static/css/61c34c770a7cdebe.css" as="style"/><link rel="stylesheet" href="/_next/static/css/61c34c770a7cdebe.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-b1e5ca5aa766260c.js" defer=""></script><script src="/_next/static/chunks/framework-6e1522ff39bfc9e8.js" defer=""></script><script src="/_next/static/chunks/main-50881d1647f842ea.js" defer=""></script><script src="/_next/static/chunks/pages/_app-de456074aa047386.js" defer=""></script><script src="/_next/static/chunks/pages/%5B...catchAll%5D-81f643499db82ec0.js" defer=""></script><script src="/_next/static/ZDd31-9Qqapi5epZeOGQx/_buildManifest.js" defer=""></script><script src="/_next/static/ZDd31-9Qqapi5epZeOGQx/_ssgManifest.js" defer=""></script><script src="/_next/static/ZDd31-9Qqapi5epZeOGQx/_middlewareManifest.js" defer=""></script></head><body><div id="__next"></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"documentId":"api/AstQuery","extension":"mdx","model":{},"doc":{"meta":{"type":"ApiDoc","path":"src/AstQuery.js"},"ast":{"type":"root","children":[{"type":"heading","depth":1,"children":[{"type":"text","value":"AstQuery Class","position":{"start":{"line":1,"column":3,"offset":2},"end":{"line":1,"column":17,"offset":16},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":17,"offset":16},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The AstQuery class is a wrapper around The ","position":{"start":{"line":3,"column":1,"offset":18},"end":{"line":3,"column":44,"offset":61},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/syntax-tree/mdast","children":[{"type":"text","value":"MDAST AST Tree","position":{"start":{"line":3,"column":45,"offset":62},"end":{"line":3,"column":59,"offset":76},"indent":[]}}],"position":{"start":{"line":3,"column":44,"offset":61},"end":{"line":3,"column":98,"offset":115},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":18},"end":{"line":3,"column":98,"offset":115},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"It provides methods for querying nodes in the document.","position":{"start":{"line":5,"column":1,"offset":117},"end":{"line":5,"column":56,"offset":172},"indent":[]}}],"position":{"start":{"line":5,"column":1,"offset":117},"end":{"line":5,"column":56,"offset":172},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Examples","position":{"start":{"line":7,"column":4,"offset":177},"end":{"line":7,"column":12,"offset":185},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":174},"end":{"line":7,"column":12,"offset":185},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Accessing the astQuery instance for a document","position":{"start":{"line":9,"column":5,"offset":191},"end":{"line":9,"column":51,"offset":237},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":187},"end":{"line":9,"column":51,"offset":237},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"const doc = collection.document(\"epics/authentication\")\nconst { astQuery } = doc\n// equivalent to doc.astQuery but can be used against any AST\nconst query = doc.queryAst(document.ast)\nconst other = new AstQuery(doc.ast)","position":{"start":{"line":11,"column":1,"offset":239},"end":{"line":17,"column":4,"offset":468},"indent":[1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Selecting all nodes that match a selector","position":{"start":{"line":19,"column":5,"offset":474},"end":{"line":19,"column":46,"offset":515},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":470},"end":{"line":19,"column":46,"offset":515},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"You can use any of the selectors documented in ","position":{"start":{"line":21,"column":1,"offset":517},"end":{"line":21,"column":48,"offset":564},"indent":[]}},{"type":"link","title":null,"url":"https://www.npmjs.com/package/unist-util-select","children":[{"type":"text","value":"unist-util-select","position":{"start":{"line":21,"column":49,"offset":565},"end":{"line":21,"column":66,"offset":582},"indent":[]}}],"position":{"start":{"line":21,"column":48,"offset":564},"end":{"line":21,"column":116,"offset":632},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":517},"end":{"line":21,"column":116,"offset":632},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"*","position":{"start":{"line":23,"column":9,"offset":642},"end":{"line":23,"column":12,"offset":645},"indent":[]}},{"type":"text","value":" (universal selector)","position":{"start":{"line":23,"column":12,"offset":645},"end":{"line":23,"column":33,"offset":666},"indent":[]}}],"position":{"start":{"line":23,"column":9,"offset":642},"end":{"line":23,"column":33,"offset":666},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":634},"end":{"line":23,"column":33,"offset":666},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":",","position":{"start":{"line":24,"column":9,"offset":675},"end":{"line":24,"column":12,"offset":678},"indent":[]}},{"type":"text","value":" (multiple selector)","position":{"start":{"line":24,"column":12,"offset":678},"end":{"line":24,"column":32,"offset":698},"indent":[]}}],"position":{"start":{"line":24,"column":9,"offset":675},"end":{"line":24,"column":32,"offset":698},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":667},"end":{"line":24,"column":32,"offset":698},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"paragraph","position":{"start":{"line":25,"column":9,"offset":707},"end":{"line":25,"column":20,"offset":718},"indent":[]}},{"type":"text","value":" (type selector)","position":{"start":{"line":25,"column":20,"offset":718},"end":{"line":25,"column":36,"offset":734},"indent":[]}}],"position":{"start":{"line":25,"column":9,"offset":707},"end":{"line":25,"column":36,"offset":734},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":699},"end":{"line":25,"column":36,"offset":734},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"blockquote paragraph","position":{"start":{"line":26,"column":9,"offset":743},"end":{"line":26,"column":31,"offset":765},"indent":[]}},{"type":"text","value":" (combinator: descendant selector)","position":{"start":{"line":26,"column":31,"offset":765},"end":{"line":26,"column":65,"offset":799},"indent":[]}}],"position":{"start":{"line":26,"column":9,"offset":743},"end":{"line":26,"column":65,"offset":799},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":735},"end":{"line":26,"column":65,"offset":799},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"blockquote \u003e paragraph","position":{"start":{"line":27,"column":9,"offset":808},"end":{"line":27,"column":33,"offset":832},"indent":[]}},{"type":"text","value":" (combinator: child selector)","position":{"start":{"line":27,"column":33,"offset":832},"end":{"line":27,"column":62,"offset":861},"indent":[]}}],"position":{"start":{"line":27,"column":9,"offset":808},"end":{"line":27,"column":62,"offset":861},"indent":[]}}],"position":{"start":{"line":27,"column":1,"offset":800},"end":{"line":27,"column":62,"offset":861},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"code + paragraph","position":{"start":{"line":28,"column":9,"offset":870},"end":{"line":28,"column":27,"offset":888},"indent":[]}},{"type":"text","value":" (combinator: adjacent sibling selector)","position":{"start":{"line":28,"column":27,"offset":888},"end":{"line":28,"column":67,"offset":928},"indent":[]}}],"position":{"start":{"line":28,"column":9,"offset":870},"end":{"line":28,"column":67,"offset":928},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":862},"end":{"line":28,"column":67,"offset":928},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"code ~ paragraph","position":{"start":{"line":29,"column":9,"offset":937},"end":{"line":29,"column":27,"offset":955},"indent":[]}},{"type":"text","value":" (combinator: general sibling selector)","position":{"start":{"line":29,"column":27,"offset":955},"end":{"line":29,"column":66,"offset":994},"indent":[]}}],"position":{"start":{"line":29,"column":9,"offset":937},"end":{"line":29,"column":66,"offset":994},"indent":[]}}],"position":{"start":{"line":29,"column":1,"offset":929},"end":{"line":29,"column":66,"offset":994},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"[attr]","position":{"start":{"line":30,"column":9,"offset":1003},"end":{"line":30,"column":17,"offset":1011},"indent":[]}},{"type":"text","value":" (attribute existence, checks that the value on the tree is not\n    nullish)","position":{"start":{"line":30,"column":17,"offset":1011},"end":{"line":31,"column":17,"offset":1091},"indent":[5]}}],"position":{"start":{"line":30,"column":9,"offset":1003},"end":{"line":31,"column":17,"offset":1091},"indent":[5]}}],"position":{"start":{"line":30,"column":1,"offset":995},"end":{"line":31,"column":17,"offset":1091},"indent":[1]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"[attr=value]","position":{"start":{"line":32,"column":9,"offset":1100},"end":{"line":32,"column":23,"offset":1114},"indent":[]}},{"type":"text","value":" (attribute equality, this stringifies values on the tree)","position":{"start":{"line":32,"column":23,"offset":1114},"end":{"line":32,"column":81,"offset":1172},"indent":[]}}],"position":{"start":{"line":32,"column":9,"offset":1100},"end":{"line":32,"column":81,"offset":1172},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":1092},"end":{"line":32,"column":81,"offset":1172},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"[attr^=value]","position":{"start":{"line":33,"column":9,"offset":1181},"end":{"line":33,"column":24,"offset":1196},"indent":[]}},{"type":"text","value":" (attribute begins with, only works on strings)","position":{"start":{"line":33,"column":24,"offset":1196},"end":{"line":33,"column":71,"offset":1243},"indent":[]}}],"position":{"start":{"line":33,"column":9,"offset":1181},"end":{"line":33,"column":71,"offset":1243},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":1173},"end":{"line":33,"column":71,"offset":1243},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"[attr$=value]","position":{"start":{"line":34,"column":9,"offset":1252},"end":{"line":34,"column":24,"offset":1267},"indent":[]}},{"type":"text","value":" (attribute ends with, only works on strings)","position":{"start":{"line":34,"column":24,"offset":1267},"end":{"line":34,"column":69,"offset":1312},"indent":[]}}],"position":{"start":{"line":34,"column":9,"offset":1252},"end":{"line":34,"column":69,"offset":1312},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":1244},"end":{"line":34,"column":69,"offset":1312},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"[attr*=value]","position":{"start":{"line":35,"column":9,"offset":1321},"end":{"line":35,"column":24,"offset":1336},"indent":[]}},{"type":"text","value":" (attribute contains, only works on strings)","position":{"start":{"line":35,"column":24,"offset":1336},"end":{"line":35,"column":68,"offset":1380},"indent":[]}}],"position":{"start":{"line":35,"column":9,"offset":1321},"end":{"line":35,"column":68,"offset":1380},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":1313},"end":{"line":35,"column":68,"offset":1380},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"[attr~=value]","position":{"start":{"line":36,"column":9,"offset":1389},"end":{"line":36,"column":24,"offset":1404},"indent":[]}},{"type":"text","value":" (attribute contains, checks if ","position":{"start":{"line":36,"column":24,"offset":1404},"end":{"line":36,"column":56,"offset":1436},"indent":[]}},{"type":"inlineCode","value":"value","position":{"start":{"line":36,"column":56,"offset":1436},"end":{"line":36,"column":63,"offset":1443},"indent":[]}},{"type":"text","value":" is in the array,\n    if there’s an array on the tree, otherwise same as attribute equality)","position":{"start":{"line":36,"column":63,"offset":1443},"end":{"line":37,"column":79,"offset":1539},"indent":[5]}}],"position":{"start":{"line":36,"column":9,"offset":1389},"end":{"line":37,"column":79,"offset":1539},"indent":[5]}}],"position":{"start":{"line":36,"column":1,"offset":1381},"end":{"line":37,"column":79,"offset":1539},"indent":[1]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":":any()","position":{"start":{"line":38,"column":9,"offset":1548},"end":{"line":38,"column":17,"offset":1556},"indent":[]}},{"type":"text","value":" (functional pseudo-class, use ","position":{"start":{"line":38,"column":17,"offset":1556},"end":{"line":38,"column":48,"offset":1587},"indent":[]}},{"type":"inlineCode","value":":matches","position":{"start":{"line":38,"column":48,"offset":1587},"end":{"line":38,"column":58,"offset":1597},"indent":[]}},{"type":"text","value":" instead)","position":{"start":{"line":38,"column":58,"offset":1597},"end":{"line":38,"column":67,"offset":1606},"indent":[]}}],"position":{"start":{"line":38,"column":9,"offset":1548},"end":{"line":38,"column":67,"offset":1606},"indent":[]}}],"position":{"start":{"line":38,"column":1,"offset":1540},"end":{"line":38,"column":67,"offset":1606},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":":has()","position":{"start":{"line":39,"column":9,"offset":1615},"end":{"line":39,"column":17,"offset":1623},"indent":[]}},{"type":"text","value":" (functional pseudo-class)\n    Relative selectors (","position":{"start":{"line":39,"column":17,"offset":1623},"end":{"line":40,"column":29,"offset":1678},"indent":[5]}},{"type":"inlineCode","value":":has(\u003e img)","position":{"start":{"line":40,"column":29,"offset":1678},"end":{"line":40,"column":42,"offset":1691},"indent":[]}},{"type":"text","value":") are not supported, but ","position":{"start":{"line":40,"column":42,"offset":1691},"end":{"line":40,"column":67,"offset":1716},"indent":[]}},{"type":"inlineCode","value":":scope","position":{"start":{"line":40,"column":67,"offset":1716},"end":{"line":40,"column":75,"offset":1724},"indent":[]}},{"type":"text","value":" is","position":{"start":{"line":40,"column":75,"offset":1724},"end":{"line":40,"column":78,"offset":1727},"indent":[]}}],"position":{"start":{"line":39,"column":9,"offset":1615},"end":{"line":40,"column":78,"offset":1727},"indent":[5]}}],"position":{"start":{"line":39,"column":1,"offset":1607},"end":{"line":40,"column":78,"offset":1727},"indent":[1]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":":matches()","position":{"start":{"line":41,"column":9,"offset":1736},"end":{"line":41,"column":21,"offset":1748},"indent":[]}},{"type":"text","value":" (functional pseudo-class)","position":{"start":{"line":41,"column":21,"offset":1748},"end":{"line":41,"column":47,"offset":1774},"indent":[]}}],"position":{"start":{"line":41,"column":9,"offset":1736},"end":{"line":41,"column":47,"offset":1774},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":1728},"end":{"line":41,"column":47,"offset":1774},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":":not()","position":{"start":{"line":42,"column":9,"offset":1783},"end":{"line":42,"column":17,"offset":1791},"indent":[]}},{"type":"text","value":" (functional pseudo-class)","position":{"start":{"line":42,"column":17,"offset":1791},"end":{"line":42,"column":43,"offset":1817},"indent":[]}}],"position":{"start":{"line":42,"column":9,"offset":1783},"end":{"line":42,"column":43,"offset":1817},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":1775},"end":{"line":42,"column":43,"offset":1817},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":":blank","position":{"start":{"line":43,"column":9,"offset":1826},"end":{"line":43,"column":17,"offset":1834},"indent":[]}},{"type":"text","value":" (pseudo-class, blank and empty are the same: a parent without\n    children, or a node without value)","position":{"start":{"line":43,"column":17,"offset":1834},"end":{"line":44,"column":43,"offset":1939},"indent":[5]}}],"position":{"start":{"line":43,"column":9,"offset":1826},"end":{"line":44,"column":43,"offset":1939},"indent":[5]}}],"position":{"start":{"line":43,"column":1,"offset":1818},"end":{"line":44,"column":43,"offset":1939},"indent":[1]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":":empty","position":{"start":{"line":45,"column":9,"offset":1948},"end":{"line":45,"column":17,"offset":1956},"indent":[]}},{"type":"text","value":" (pseudo-class, blank and empty are the same: a parent without\n    children, or a node without value)","position":{"start":{"line":45,"column":17,"offset":1956},"end":{"line":46,"column":43,"offset":2061},"indent":[5]}}],"position":{"start":{"line":45,"column":9,"offset":1948},"end":{"line":46,"column":43,"offset":2061},"indent":[5]}}],"position":{"start":{"line":45,"column":1,"offset":1940},"end":{"line":46,"column":43,"offset":2061},"indent":[1]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":":root","position":{"start":{"line":47,"column":9,"offset":2070},"end":{"line":47,"column":16,"offset":2077},"indent":[]}},{"type":"text","value":" (pseudo-class, matches the given node)","position":{"start":{"line":47,"column":16,"offset":2077},"end":{"line":47,"column":55,"offset":2116},"indent":[]}}],"position":{"start":{"line":47,"column":9,"offset":2070},"end":{"line":47,"column":55,"offset":2116},"indent":[]}}],"position":{"start":{"line":47,"column":1,"offset":2062},"end":{"line":47,"column":55,"offset":2116},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":":scope","position":{"start":{"line":48,"column":9,"offset":2125},"end":{"line":48,"column":17,"offset":2133},"indent":[]}},{"type":"text","value":" (pseudo-class, matches the given node)","position":{"start":{"line":48,"column":17,"offset":2133},"end":{"line":48,"column":56,"offset":2172},"indent":[]}}],"position":{"start":{"line":48,"column":9,"offset":2125},"end":{"line":48,"column":56,"offset":2172},"indent":[]}}],"position":{"start":{"line":48,"column":1,"offset":2117},"end":{"line":48,"column":56,"offset":2172},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"text","value":"*","position":{"start":{"line":49,"column":9,"offset":2181},"end":{"line":49,"column":11,"offset":2183},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":49,"column":11,"offset":2183},"end":{"line":49,"column":12,"offset":2184},"indent":[]}},{"type":"inlineCode","value":":first-child","position":{"start":{"line":49,"column":12,"offset":2184},"end":{"line":49,"column":26,"offset":2198},"indent":[]}},{"type":"text","value":" (pseudo-class)","position":{"start":{"line":49,"column":26,"offset":2198},"end":{"line":49,"column":41,"offset":2213},"indent":[]}}],"position":{"start":{"line":49,"column":9,"offset":2181},"end":{"line":49,"column":41,"offset":2213},"indent":[]}}],"position":{"start":{"line":49,"column":1,"offset":2173},"end":{"line":49,"column":41,"offset":2213},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"text","value":"*","position":{"start":{"line":50,"column":9,"offset":2222},"end":{"line":50,"column":11,"offset":2224},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":50,"column":11,"offset":2224},"end":{"line":50,"column":12,"offset":2225},"indent":[]}},{"type":"inlineCode","value":":first-of-type","position":{"start":{"line":50,"column":12,"offset":2225},"end":{"line":50,"column":28,"offset":2241},"indent":[]}},{"type":"text","value":" (pseudo-class)","position":{"start":{"line":50,"column":28,"offset":2241},"end":{"line":50,"column":43,"offset":2256},"indent":[]}}],"position":{"start":{"line":50,"column":9,"offset":2222},"end":{"line":50,"column":43,"offset":2256},"indent":[]}}],"position":{"start":{"line":50,"column":1,"offset":2214},"end":{"line":50,"column":43,"offset":2256},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"text","value":"*","position":{"start":{"line":51,"column":9,"offset":2265},"end":{"line":51,"column":11,"offset":2267},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":51,"column":11,"offset":2267},"end":{"line":51,"column":12,"offset":2268},"indent":[]}},{"type":"inlineCode","value":":last-child","position":{"start":{"line":51,"column":12,"offset":2268},"end":{"line":51,"column":25,"offset":2281},"indent":[]}},{"type":"text","value":" (pseudo-class)","position":{"start":{"line":51,"column":25,"offset":2281},"end":{"line":51,"column":40,"offset":2296},"indent":[]}}],"position":{"start":{"line":51,"column":9,"offset":2265},"end":{"line":51,"column":40,"offset":2296},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":2257},"end":{"line":51,"column":40,"offset":2296},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"text","value":"*","position":{"start":{"line":52,"column":9,"offset":2305},"end":{"line":52,"column":11,"offset":2307},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":52,"column":11,"offset":2307},"end":{"line":52,"column":12,"offset":2308},"indent":[]}},{"type":"inlineCode","value":":last-of-type","position":{"start":{"line":52,"column":12,"offset":2308},"end":{"line":52,"column":27,"offset":2323},"indent":[]}},{"type":"text","value":" (pseudo-class)","position":{"start":{"line":52,"column":27,"offset":2323},"end":{"line":52,"column":42,"offset":2338},"indent":[]}}],"position":{"start":{"line":52,"column":9,"offset":2305},"end":{"line":52,"column":42,"offset":2338},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":2297},"end":{"line":52,"column":42,"offset":2338},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"text","value":"*","position":{"start":{"line":53,"column":9,"offset":2347},"end":{"line":53,"column":11,"offset":2349},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":53,"column":11,"offset":2349},"end":{"line":53,"column":12,"offset":2350},"indent":[]}},{"type":"inlineCode","value":":only-child","position":{"start":{"line":53,"column":12,"offset":2350},"end":{"line":53,"column":25,"offset":2363},"indent":[]}},{"type":"text","value":" (pseudo-class)","position":{"start":{"line":53,"column":25,"offset":2363},"end":{"line":53,"column":40,"offset":2378},"indent":[]}}],"position":{"start":{"line":53,"column":9,"offset":2347},"end":{"line":53,"column":40,"offset":2378},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":2339},"end":{"line":53,"column":40,"offset":2378},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"text","value":"*","position":{"start":{"line":54,"column":9,"offset":2387},"end":{"line":54,"column":11,"offset":2389},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":54,"column":11,"offset":2389},"end":{"line":54,"column":12,"offset":2390},"indent":[]}},{"type":"inlineCode","value":":only-of-type","position":{"start":{"line":54,"column":12,"offset":2390},"end":{"line":54,"column":27,"offset":2405},"indent":[]}},{"type":"text","value":" (pseudo-class)","position":{"start":{"line":54,"column":27,"offset":2405},"end":{"line":54,"column":42,"offset":2420},"indent":[]}}],"position":{"start":{"line":54,"column":9,"offset":2387},"end":{"line":54,"column":42,"offset":2420},"indent":[]}}],"position":{"start":{"line":54,"column":1,"offset":2379},"end":{"line":54,"column":42,"offset":2420},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"text","value":"*","position":{"start":{"line":55,"column":9,"offset":2429},"end":{"line":55,"column":11,"offset":2431},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":55,"column":11,"offset":2431},"end":{"line":55,"column":12,"offset":2432},"indent":[]}},{"type":"inlineCode","value":":nth-child()","position":{"start":{"line":55,"column":12,"offset":2432},"end":{"line":55,"column":26,"offset":2446},"indent":[]}},{"type":"text","value":" (functional pseudo-class)","position":{"start":{"line":55,"column":26,"offset":2446},"end":{"line":55,"column":52,"offset":2472},"indent":[]}}],"position":{"start":{"line":55,"column":9,"offset":2429},"end":{"line":55,"column":52,"offset":2472},"indent":[]}}],"position":{"start":{"line":55,"column":1,"offset":2421},"end":{"line":55,"column":52,"offset":2472},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"text","value":"*","position":{"start":{"line":56,"column":9,"offset":2481},"end":{"line":56,"column":11,"offset":2483},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":56,"column":11,"offset":2483},"end":{"line":56,"column":12,"offset":2484},"indent":[]}},{"type":"inlineCode","value":":nth-last-child()","position":{"start":{"line":56,"column":12,"offset":2484},"end":{"line":56,"column":31,"offset":2503},"indent":[]}},{"type":"text","value":" (functional pseudo-class)","position":{"start":{"line":56,"column":31,"offset":2503},"end":{"line":56,"column":57,"offset":2529},"indent":[]}}],"position":{"start":{"line":56,"column":9,"offset":2481},"end":{"line":56,"column":57,"offset":2529},"indent":[]}}],"position":{"start":{"line":56,"column":1,"offset":2473},"end":{"line":56,"column":57,"offset":2529},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"text","value":"*","position":{"start":{"line":57,"column":9,"offset":2538},"end":{"line":57,"column":11,"offset":2540},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":57,"column":11,"offset":2540},"end":{"line":57,"column":12,"offset":2541},"indent":[]}},{"type":"inlineCode","value":":nth-last-of-type()","position":{"start":{"line":57,"column":12,"offset":2541},"end":{"line":57,"column":33,"offset":2562},"indent":[]}},{"type":"text","value":" (functional pseudo-class)","position":{"start":{"line":57,"column":33,"offset":2562},"end":{"line":57,"column":59,"offset":2588},"indent":[]}}],"position":{"start":{"line":57,"column":9,"offset":2538},"end":{"line":57,"column":59,"offset":2588},"indent":[]}}],"position":{"start":{"line":57,"column":1,"offset":2530},"end":{"line":57,"column":59,"offset":2588},"indent":[]}},{"type":"listItem","spread":false,"checked":true,"children":[{"type":"paragraph","children":[{"type":"text","value":"*","position":{"start":{"line":58,"column":9,"offset":2597},"end":{"line":58,"column":11,"offset":2599},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":58,"column":11,"offset":2599},"end":{"line":58,"column":12,"offset":2600},"indent":[]}},{"type":"inlineCode","value":":nth-of-type()","position":{"start":{"line":58,"column":12,"offset":2600},"end":{"line":58,"column":28,"offset":2616},"indent":[]}},{"type":"text","value":" (functional pseudo-class)","position":{"start":{"line":58,"column":28,"offset":2616},"end":{"line":58,"column":54,"offset":2642},"indent":[]}}],"position":{"start":{"line":58,"column":9,"offset":2597},"end":{"line":58,"column":54,"offset":2642},"indent":[]}}],"position":{"start":{"line":58,"column":1,"offset":2589},"end":{"line":58,"column":54,"offset":2642},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":634},"end":{"line":58,"column":54,"offset":2642},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"code","lang":"js","meta":null,"value":"const h1 = astQuery.selectAll(\"heading[depth=1]\")\nconst h2 = astQuery.selectAll(\"heading[depth=2]\")\nconst codeBlocks = astQuery.selectAll(\"code\")","position":{"start":{"line":60,"column":1,"offset":2644},"end":{"line":64,"column":4,"offset":2799},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"There is also ","position":{"start":{"line":66,"column":1,"offset":2801},"end":{"line":66,"column":15,"offset":2815},"indent":[]}},{"type":"inlineCode","value":"astQuery.select","position":{"start":{"line":66,"column":15,"offset":2815},"end":{"line":66,"column":32,"offset":2832},"indent":[]}},{"type":"text","value":" which will only return one node instead of an array of nodes.","position":{"start":{"line":66,"column":32,"offset":2832},"end":{"line":66,"column":94,"offset":2894},"indent":[]}}],"position":{"start":{"line":66,"column":1,"offset":2801},"end":{"line":66,"column":94,"offset":2894},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Finding all nodes between two headings","position":{"start":{"line":68,"column":5,"offset":2900},"end":{"line":68,"column":43,"offset":2938},"indent":[]}}],"position":{"start":{"line":68,"column":1,"offset":2896},"end":{"line":68,"column":43,"offset":2938},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"const nodes = astQuery.findBetweenHeadings(\n  astQuery.select(\"heading\")[0],\n  astQuery.select(\"heading\")[1]\n)","position":{"start":{"line":70,"column":1,"offset":2940},"end":{"line":75,"column":4,"offset":3060},"indent":[1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Finding all nodes after another node","position":{"start":{"line":77,"column":5,"offset":3066},"end":{"line":77,"column":41,"offset":3102},"indent":[]}}],"position":{"start":{"line":77,"column":1,"offset":3062},"end":{"line":77,"column":41,"offset":3102},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"const afterNodes = astQuery.findAllAfter(astQuery.select(\"heading\")[0])","position":{"start":{"line":79,"column":1,"offset":3104},"end":{"line":81,"column":4,"offset":3185},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"There is also ","position":{"start":{"line":83,"column":1,"offset":3187},"end":{"line":83,"column":15,"offset":3201},"indent":[]}},{"type":"inlineCode","value":"astQuery.findAfter","position":{"start":{"line":83,"column":15,"offset":3201},"end":{"line":83,"column":35,"offset":3221},"indent":[]}},{"type":"text","value":" which just finds a single node.","position":{"start":{"line":83,"column":35,"offset":3221},"end":{"line":83,"column":67,"offset":3253},"indent":[]}}],"position":{"start":{"line":83,"column":1,"offset":3187},"end":{"line":83,"column":67,"offset":3253},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Finding all nodes before another node","position":{"start":{"line":85,"column":5,"offset":3259},"end":{"line":85,"column":42,"offset":3296},"indent":[]}}],"position":{"start":{"line":85,"column":1,"offset":3255},"end":{"line":85,"column":42,"offset":3296},"indent":[]}},{"type":"code","lang":"js","meta":null,"value":"const beforeNodes = astQuery.findAllBefore(astQuery.select(\"heading\")[0])","position":{"start":{"line":87,"column":1,"offset":3298},"end":{"line":89,"column":4,"offset":3381},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"There is also ","position":{"start":{"line":91,"column":1,"offset":3383},"end":{"line":91,"column":15,"offset":3397},"indent":[]}},{"type":"inlineCode","value":"astQuery.findBefore","position":{"start":{"line":91,"column":15,"offset":3397},"end":{"line":91,"column":36,"offset":3418},"indent":[]}},{"type":"text","value":" which just finds a single node.","position":{"start":{"line":91,"column":36,"offset":3418},"end":{"line":91,"column":68,"offset":3450},"indent":[]}}],"position":{"start":{"line":91,"column":1,"offset":3383},"end":{"line":91,"column":68,"offset":3450},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"API","position":{"start":{"line":93,"column":4,"offset":3455},"end":{"line":93,"column":7,"offset":3458},"indent":[]}}],"position":{"start":{"line":93,"column":1,"offset":3452},"end":{"line":93,"column":7,"offset":3458},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Instance Methods","position":{"start":{"line":95,"column":5,"offset":3464},"end":{"line":95,"column":21,"offset":3480},"indent":[]}}],"position":{"start":{"line":95,"column":1,"offset":3460},"end":{"line":95,"column":21,"offset":3480},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"findAllBefore","position":{"start":{"line":98,"column":6,"offset":3488},"end":{"line":98,"column":19,"offset":3501},"indent":[]}}],"position":{"start":{"line":98,"column":1,"offset":3483},"end":{"line":98,"column":19,"offset":3501},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Find all nodes in the document that come before the given node.  Passing an optional\nselector will filter the results.","position":{"start":{"line":100,"column":1,"offset":3503},"end":{"line":101,"column":34,"offset":3621},"indent":[1]}}],"position":{"start":{"line":100,"column":1,"offset":3503},"end":{"line":101,"column":34,"offset":3621},"indent":[1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"findAllAfter","position":{"start":{"line":103,"column":6,"offset":3628},"end":{"line":103,"column":18,"offset":3640},"indent":[]}}],"position":{"start":{"line":103,"column":1,"offset":3623},"end":{"line":103,"column":18,"offset":3640},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Find all nodes in the document that come after the given node. Passing an optional\nselector will filter the results.","position":{"start":{"line":105,"column":1,"offset":3642},"end":{"line":106,"column":34,"offset":3758},"indent":[1]}}],"position":{"start":{"line":105,"column":1,"offset":3642},"end":{"line":106,"column":34,"offset":3758},"indent":[1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"findBefore","position":{"start":{"line":108,"column":6,"offset":3765},"end":{"line":108,"column":16,"offset":3775},"indent":[]}}],"position":{"start":{"line":108,"column":1,"offset":3760},"end":{"line":108,"column":16,"offset":3775},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Find the first node before the given node which matches the selector","position":{"start":{"line":110,"column":1,"offset":3777},"end":{"line":110,"column":69,"offset":3845},"indent":[]}}],"position":{"start":{"line":110,"column":1,"offset":3777},"end":{"line":110,"column":69,"offset":3845},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"{AstNode} node","position":{"start":{"line":111,"column":3,"offset":3848},"end":{"line":111,"column":19,"offset":3864},"indent":[]}},{"type":"text","value":" a node in the AST to start searching from","position":{"start":{"line":111,"column":19,"offset":3864},"end":{"line":111,"column":61,"offset":3906},"indent":[]}}],"position":{"start":{"line":111,"column":3,"offset":3848},"end":{"line":111,"column":61,"offset":3906},"indent":[]}}],"position":{"start":{"line":111,"column":1,"offset":3846},"end":{"line":111,"column":61,"offset":3906},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"{String|Function} selector","position":{"start":{"line":112,"column":3,"offset":3909},"end":{"line":112,"column":31,"offset":3937},"indent":[]}},{"type":"text","value":" a selector string from unist-util-select, or a function which will be passed the node and return true if it matches","position":{"start":{"line":112,"column":31,"offset":3937},"end":{"line":112,"column":147,"offset":4053},"indent":[]}}],"position":{"start":{"line":112,"column":3,"offset":3909},"end":{"line":112,"column":147,"offset":4053},"indent":[]}}],"position":{"start":{"line":112,"column":1,"offset":3907},"end":{"line":112,"column":147,"offset":4053},"indent":[]}}],"position":{"start":{"line":111,"column":1,"offset":3846},"end":{"line":112,"column":147,"offset":4053},"indent":[1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"findAfter","position":{"start":{"line":114,"column":6,"offset":4060},"end":{"line":114,"column":15,"offset":4069},"indent":[]}}],"position":{"start":{"line":114,"column":1,"offset":4055},"end":{"line":114,"column":15,"offset":4069},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Find the next node after the given node which matches the given elector","position":{"start":{"line":116,"column":1,"offset":4071},"end":{"line":116,"column":72,"offset":4142},"indent":[]}}],"position":{"start":{"line":116,"column":1,"offset":4071},"end":{"line":116,"column":72,"offset":4142},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"{AstNode} node","position":{"start":{"line":117,"column":3,"offset":4145},"end":{"line":117,"column":19,"offset":4161},"indent":[]}},{"type":"text","value":" a node in the AST to start searching from","position":{"start":{"line":117,"column":19,"offset":4161},"end":{"line":117,"column":61,"offset":4203},"indent":[]}}],"position":{"start":{"line":117,"column":3,"offset":4145},"end":{"line":117,"column":61,"offset":4203},"indent":[]}}],"position":{"start":{"line":117,"column":1,"offset":4143},"end":{"line":117,"column":61,"offset":4203},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"{Function} selector","position":{"start":{"line":118,"column":3,"offset":4206},"end":{"line":118,"column":24,"offset":4227},"indent":[]}},{"type":"text","value":" a function which returns true if the node matches","position":{"start":{"line":118,"column":24,"offset":4227},"end":{"line":118,"column":74,"offset":4277},"indent":[]}}],"position":{"start":{"line":118,"column":3,"offset":4206},"end":{"line":118,"column":74,"offset":4277},"indent":[]}}],"position":{"start":{"line":118,"column":1,"offset":4204},"end":{"line":118,"column":74,"offset":4277},"indent":[]}}],"position":{"start":{"line":117,"column":1,"offset":4143},"end":{"line":118,"column":74,"offset":4277},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Returns ","position":{"start":{"line":120,"column":1,"offset":4279},"end":{"line":120,"column":9,"offset":4287},"indent":[]}},{"type":"inlineCode","value":"{AstNode} the first node to match the selector","position":{"start":{"line":120,"column":9,"offset":4287},"end":{"line":120,"column":57,"offset":4335},"indent":[]}}],"position":{"start":{"line":120,"column":1,"offset":4279},"end":{"line":120,"column":57,"offset":4335},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"findBetween","position":{"start":{"line":122,"column":6,"offset":4342},"end":{"line":122,"column":17,"offset":4353},"indent":[]}}],"position":{"start":{"line":122,"column":1,"offset":4337},"end":{"line":122,"column":17,"offset":4353},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Find all the nodes between the given nodes","position":{"start":{"line":124,"column":1,"offset":4355},"end":{"line":124,"column":43,"offset":4397},"indent":[]}}],"position":{"start":{"line":124,"column":1,"offset":4355},"end":{"line":124,"column":43,"offset":4397},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"{AstNode} nodeOne","position":{"start":{"line":125,"column":3,"offset":4400},"end":{"line":125,"column":22,"offset":4419},"indent":[]}},{"type":"text","value":" a node in the AST to start searching from","position":{"start":{"line":125,"column":22,"offset":4419},"end":{"line":125,"column":64,"offset":4461},"indent":[]}}],"position":{"start":{"line":125,"column":3,"offset":4400},"end":{"line":125,"column":64,"offset":4461},"indent":[]}}],"position":{"start":{"line":125,"column":1,"offset":4398},"end":{"line":125,"column":64,"offset":4461},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"{AstNode} nodeTwo","position":{"start":{"line":126,"column":3,"offset":4464},"end":{"line":126,"column":22,"offset":4483},"indent":[]}},{"type":"text","value":" a node in the AST to stop searching at","position":{"start":{"line":126,"column":22,"offset":4483},"end":{"line":126,"column":61,"offset":4522},"indent":[]}}],"position":{"start":{"line":126,"column":3,"offset":4464},"end":{"line":126,"column":61,"offset":4522},"indent":[]}}],"position":{"start":{"line":126,"column":1,"offset":4462},"end":{"line":126,"column":61,"offset":4522},"indent":[]}}],"position":{"start":{"line":125,"column":1,"offset":4398},"end":{"line":126,"column":61,"offset":4522},"indent":[1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"select","position":{"start":{"line":128,"column":6,"offset":4529},"end":{"line":128,"column":12,"offset":4535},"indent":[]}}],"position":{"start":{"line":128,"column":1,"offset":4524},"end":{"line":128,"column":12,"offset":4535},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Find the first node which matches the selector.  See unist-util-select","position":{"start":{"line":130,"column":1,"offset":4537},"end":{"line":130,"column":71,"offset":4607},"indent":[]}}],"position":{"start":{"line":130,"column":1,"offset":4537},"end":{"line":130,"column":71,"offset":4607},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"{String|Function} selector","position":{"start":{"line":131,"column":3,"offset":4610},"end":{"line":131,"column":31,"offset":4638},"indent":[]}},{"type":"text","value":" a string from unist-util-select or a function which should return true if the node matches","position":{"start":{"line":131,"column":31,"offset":4638},"end":{"line":131,"column":122,"offset":4729},"indent":[]}}],"position":{"start":{"line":131,"column":3,"offset":4610},"end":{"line":131,"column":122,"offset":4729},"indent":[]}}],"position":{"start":{"line":131,"column":1,"offset":4608},"end":{"line":131,"column":122,"offset":4729},"indent":[]}}],"position":{"start":{"line":131,"column":1,"offset":4608},"end":{"line":131,"column":122,"offset":4729},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Returns ","position":{"start":{"line":133,"column":1,"offset":4731},"end":{"line":133,"column":9,"offset":4739},"indent":[]}},{"type":"inlineCode","value":"{AstNode} the first node to match the selector","position":{"start":{"line":133,"column":9,"offset":4739},"end":{"line":133,"column":57,"offset":4787},"indent":[]}}],"position":{"start":{"line":133,"column":1,"offset":4731},"end":{"line":133,"column":57,"offset":4787},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"selectAll","position":{"start":{"line":135,"column":6,"offset":4794},"end":{"line":135,"column":15,"offset":4803},"indent":[]}}],"position":{"start":{"line":135,"column":1,"offset":4789},"end":{"line":135,"column":15,"offset":4803},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Find all nodes which match the selector.  See unist-util-select","position":{"start":{"line":137,"column":1,"offset":4805},"end":{"line":137,"column":64,"offset":4868},"indent":[]}}],"position":{"start":{"line":137,"column":1,"offset":4805},"end":{"line":137,"column":64,"offset":4868},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"{String|Function} selector","position":{"start":{"line":138,"column":3,"offset":4871},"end":{"line":138,"column":31,"offset":4899},"indent":[]}},{"type":"text","value":" a string from unist-util-select or a function which should return true if the node matches","position":{"start":{"line":138,"column":31,"offset":4899},"end":{"line":138,"column":122,"offset":4990},"indent":[]}}],"position":{"start":{"line":138,"column":3,"offset":4871},"end":{"line":138,"column":122,"offset":4990},"indent":[]}}],"position":{"start":{"line":138,"column":1,"offset":4869},"end":{"line":138,"column":122,"offset":4990},"indent":[]}}],"position":{"start":{"line":138,"column":1,"offset":4869},"end":{"line":138,"column":122,"offset":4990},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Returns ","position":{"start":{"line":140,"column":1,"offset":4992},"end":{"line":140,"column":9,"offset":5000},"indent":[]}},{"type":"inlineCode","value":"{Array[AstNode]} all nodes to match the selector","position":{"start":{"line":140,"column":9,"offset":5000},"end":{"line":140,"column":59,"offset":5050},"indent":[]}}],"position":{"start":{"line":140,"column":1,"offset":4992},"end":{"line":140,"column":59,"offset":5050},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"visit","position":{"start":{"line":142,"column":6,"offset":5057},"end":{"line":142,"column":11,"offset":5062},"indent":[]}}],"position":{"start":{"line":142,"column":1,"offset":5052},"end":{"line":142,"column":11,"offset":5062},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Run the given visitor function for each node in the document.","position":{"start":{"line":144,"column":1,"offset":5064},"end":{"line":144,"column":62,"offset":5125},"indent":[]}}],"position":{"start":{"line":144,"column":1,"offset":5064},"end":{"line":144,"column":62,"offset":5125},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"{Function} visitor","position":{"start":{"line":145,"column":3,"offset":5128},"end":{"line":145,"column":23,"offset":5148},"indent":[]}},{"type":"text","value":" a function which will be passed a node from the tree.","position":{"start":{"line":145,"column":23,"offset":5148},"end":{"line":145,"column":77,"offset":5202},"indent":[]}}],"position":{"start":{"line":145,"column":3,"offset":5128},"end":{"line":145,"column":77,"offset":5202},"indent":[]}}],"position":{"start":{"line":145,"column":1,"offset":5126},"end":{"line":145,"column":77,"offset":5202},"indent":[]}}],"position":{"start":{"line":145,"column":1,"offset":5126},"end":{"line":145,"column":77,"offset":5202},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"atLine","position":{"start":{"line":147,"column":6,"offset":5209},"end":{"line":147,"column":12,"offset":5215},"indent":[]}}],"position":{"start":{"line":147,"column":1,"offset":5204},"end":{"line":147,"column":12,"offset":5215},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Get the node at a given line number.","position":{"start":{"line":149,"column":1,"offset":5217},"end":{"line":149,"column":37,"offset":5253},"indent":[]}}],"position":{"start":{"line":149,"column":1,"offset":5217},"end":{"line":149,"column":37,"offset":5253},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"{Number} lineNumber","position":{"start":{"line":150,"column":3,"offset":5256},"end":{"line":150,"column":24,"offset":5277},"indent":[]}},{"type":"text","value":" the line number to find","position":{"start":{"line":150,"column":24,"offset":5277},"end":{"line":150,"column":48,"offset":5301},"indent":[]}}],"position":{"start":{"line":150,"column":3,"offset":5256},"end":{"line":150,"column":48,"offset":5301},"indent":[]}}],"position":{"start":{"line":150,"column":1,"offset":5254},"end":{"line":150,"column":48,"offset":5301},"indent":[]}}],"position":{"start":{"line":150,"column":1,"offset":5254},"end":{"line":150,"column":48,"offset":5301},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Returns ","position":{"start":{"line":152,"column":1,"offset":5303},"end":{"line":152,"column":9,"offset":5311},"indent":[]}},{"type":"inlineCode","value":"{AstNode} the node at the given line number","position":{"start":{"line":152,"column":9,"offset":5311},"end":{"line":152,"column":54,"offset":5356},"indent":[]}}],"position":{"start":{"line":152,"column":1,"offset":5303},"end":{"line":152,"column":54,"offset":5356},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"findNextSiblingHeadingTo","position":{"start":{"line":154,"column":6,"offset":5363},"end":{"line":154,"column":30,"offset":5387},"indent":[]}}],"position":{"start":{"line":154,"column":1,"offset":5358},"end":{"line":154,"column":30,"offset":5387},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Find the next heading node with the same depth as the given node.","position":{"start":{"line":156,"column":1,"offset":5389},"end":{"line":156,"column":66,"offset":5454},"indent":[]}}],"position":{"start":{"line":156,"column":1,"offset":5389},"end":{"line":156,"column":66,"offset":5454},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"{AstNode} headingNode","position":{"start":{"line":157,"column":3,"offset":5457},"end":{"line":157,"column":26,"offset":5480},"indent":[]}},{"type":"text","value":" a heading node to start searching from","position":{"start":{"line":157,"column":26,"offset":5480},"end":{"line":157,"column":65,"offset":5519},"indent":[]}}],"position":{"start":{"line":157,"column":3,"offset":5457},"end":{"line":157,"column":65,"offset":5519},"indent":[]}}],"position":{"start":{"line":157,"column":1,"offset":5455},"end":{"line":157,"column":65,"offset":5519},"indent":[]}}],"position":{"start":{"line":157,"column":1,"offset":5455},"end":{"line":157,"column":65,"offset":5519},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Returns ","position":{"start":{"line":159,"column":1,"offset":5521},"end":{"line":159,"column":9,"offset":5529},"indent":[]}},{"type":"inlineCode","value":"{AstNode} the next heading node with the same depth as the given node","position":{"start":{"line":159,"column":9,"offset":5529},"end":{"line":159,"column":80,"offset":5600},"indent":[]}}],"position":{"start":{"line":159,"column":1,"offset":5521},"end":{"line":159,"column":80,"offset":5600},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"headingsAtDepth","position":{"start":{"line":161,"column":6,"offset":5607},"end":{"line":161,"column":21,"offset":5622},"indent":[]}}],"position":{"start":{"line":161,"column":1,"offset":5602},"end":{"line":161,"column":21,"offset":5622},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Get all headings at a given depth.","position":{"start":{"line":163,"column":1,"offset":5624},"end":{"line":163,"column":35,"offset":5658},"indent":[]}}],"position":{"start":{"line":163,"column":1,"offset":5624},"end":{"line":163,"column":35,"offset":5658},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"{Number} depth","position":{"start":{"line":164,"column":3,"offset":5661},"end":{"line":164,"column":19,"offset":5677},"indent":[]}},{"type":"text","value":" the heading depth to find (1-6)","position":{"start":{"line":164,"column":19,"offset":5677},"end":{"line":164,"column":51,"offset":5709},"indent":[]}}],"position":{"start":{"line":164,"column":3,"offset":5661},"end":{"line":164,"column":51,"offset":5709},"indent":[]}}],"position":{"start":{"line":164,"column":1,"offset":5659},"end":{"line":164,"column":51,"offset":5709},"indent":[]}}],"position":{"start":{"line":164,"column":1,"offset":5659},"end":{"line":164,"column":51,"offset":5709},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Returns ","position":{"start":{"line":166,"column":1,"offset":5711},"end":{"line":166,"column":9,"offset":5719},"indent":[]}},{"type":"inlineCode","value":"{Array[AstNode]} all headings at the given depth","position":{"start":{"line":166,"column":9,"offset":5719},"end":{"line":166,"column":59,"offset":5769},"indent":[]}}],"position":{"start":{"line":166,"column":1,"offset":5711},"end":{"line":166,"column":59,"offset":5769},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"findHeadingByText","position":{"start":{"line":168,"column":6,"offset":5776},"end":{"line":168,"column":23,"offset":5793},"indent":[]}}],"position":{"start":{"line":168,"column":1,"offset":5771},"end":{"line":168,"column":23,"offset":5793},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Find a heading where the content matches the given string.  Not case sensitive.\nPassing false as a second argument will use a substring match.","position":{"start":{"line":170,"column":1,"offset":5795},"end":{"line":171,"column":63,"offset":5937},"indent":[1]}}],"position":{"start":{"line":170,"column":1,"offset":5795},"end":{"line":171,"column":63,"offset":5937},"indent":[1]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"{String} text","position":{"start":{"line":172,"column":3,"offset":5940},"end":{"line":172,"column":18,"offset":5955},"indent":[]}},{"type":"text","value":" the text of the heading to match","position":{"start":{"line":172,"column":18,"offset":5955},"end":{"line":172,"column":51,"offset":5988},"indent":[]}}],"position":{"start":{"line":172,"column":3,"offset":5940},"end":{"line":172,"column":51,"offset":5988},"indent":[]}}],"position":{"start":{"line":172,"column":1,"offset":5938},"end":{"line":172,"column":51,"offset":5988},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"{Boolean} exact","position":{"start":{"line":173,"column":3,"offset":5991},"end":{"line":173,"column":20,"offset":6008},"indent":[]}},{"type":"text","value":" whether to use an exact match or a substring match","position":{"start":{"line":173,"column":20,"offset":6008},"end":{"line":173,"column":71,"offset":6059},"indent":[]}}],"position":{"start":{"line":173,"column":3,"offset":5991},"end":{"line":173,"column":71,"offset":6059},"indent":[]}}],"position":{"start":{"line":173,"column":1,"offset":5989},"end":{"line":173,"column":71,"offset":6059},"indent":[]}}],"position":{"start":{"line":172,"column":1,"offset":5938},"end":{"line":173,"column":71,"offset":6059},"indent":[1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":176,"column":1,"offset":6062}}},"content":"# AstQuery Class\n\nThe AstQuery class is a wrapper around The [MDAST AST Tree](https://github.com/syntax-tree/mdast)\n\nIt provides methods for querying nodes in the document.\n\n## Examples\n\n### Accessing the astQuery instance for a document\n\n```js\nconst doc = collection.document(\"epics/authentication\")\nconst { astQuery } = doc\n// equivalent to doc.astQuery but can be used against any AST\nconst query = doc.queryAst(document.ast)\nconst other = new AstQuery(doc.ast)\n```\n\n### Selecting all nodes that match a selector\n\nYou can use any of the selectors documented in [unist-util-select](https://www.npmjs.com/package/unist-util-select)\n\n-   [x] `*` (universal selector)\n-   [x] `,` (multiple selector)\n-   [x] `paragraph` (type selector)\n-   [x] `blockquote paragraph` (combinator: descendant selector)\n-   [x] `blockquote \u003e paragraph` (combinator: child selector)\n-   [x] `code + paragraph` (combinator: adjacent sibling selector)\n-   [x] `code ~ paragraph` (combinator: general sibling selector)\n-   [x] `[attr]` (attribute existence, checks that the value on the tree is not\n        nullish)\n-   [x] `[attr=value]` (attribute equality, this stringifies values on the tree)\n-   [x] `[attr^=value]` (attribute begins with, only works on strings)\n-   [x] `[attr$=value]` (attribute ends with, only works on strings)\n-   [x] `[attr*=value]` (attribute contains, only works on strings)\n-   [x] `[attr~=value]` (attribute contains, checks if `value` is in the array,\n        if there’s an array on the tree, otherwise same as attribute equality)\n-   [x] `:any()` (functional pseudo-class, use `:matches` instead)\n-   [x] `:has()` (functional pseudo-class)\n        Relative selectors (`:has(\u003e img)`) are not supported, but `:scope` is\n-   [x] `:matches()` (functional pseudo-class)\n-   [x] `:not()` (functional pseudo-class)\n-   [x] `:blank` (pseudo-class, blank and empty are the same: a parent without\n        children, or a node without value)\n-   [x] `:empty` (pseudo-class, blank and empty are the same: a parent without\n        children, or a node without value)\n-   [x] `:root` (pseudo-class, matches the given node)\n-   [x] `:scope` (pseudo-class, matches the given node)\n-   [x] \\* `:first-child` (pseudo-class)\n-   [x] \\* `:first-of-type` (pseudo-class)\n-   [x] \\* `:last-child` (pseudo-class)\n-   [x] \\* `:last-of-type` (pseudo-class)\n-   [x] \\* `:only-child` (pseudo-class)\n-   [x] \\* `:only-of-type` (pseudo-class)\n-   [x] \\* `:nth-child()` (functional pseudo-class)\n-   [x] \\* `:nth-last-child()` (functional pseudo-class)\n-   [x] \\* `:nth-last-of-type()` (functional pseudo-class)\n-   [x] \\* `:nth-of-type()` (functional pseudo-class)\n\n```js\nconst h1 = astQuery.selectAll(\"heading[depth=1]\")\nconst h2 = astQuery.selectAll(\"heading[depth=2]\")\nconst codeBlocks = astQuery.selectAll(\"code\")\n```\n\nThere is also `astQuery.select` which will only return one node instead of an array of nodes.\n\n### Finding all nodes between two headings\n\n```js\nconst nodes = astQuery.findBetweenHeadings(\n  astQuery.select(\"heading\")[0],\n  astQuery.select(\"heading\")[1]\n)\n```\n\n### Finding all nodes after another node\n\n```js\nconst afterNodes = astQuery.findAllAfter(astQuery.select(\"heading\")[0])\n```\n\nThere is also `astQuery.findAfter` which just finds a single node.\n\n### Finding all nodes before another node\n\n```js\nconst beforeNodes = astQuery.findAllBefore(astQuery.select(\"heading\")[0])\n```\n\nThere is also `astQuery.findBefore` which just finds a single node.\n\n## API\n\n### Instance Methods\n\n\n#### findAllBefore\n\nFind all nodes in the document that come before the given node.  Passing an optional\nselector will filter the results.\n\n#### findAllAfter\n\nFind all nodes in the document that come after the given node. Passing an optional\nselector will filter the results.\n\n#### findBefore\n\nFind the first node before the given node which matches the selector\n- `{AstNode} node` a node in the AST to start searching from\n- `{String|Function} selector` a selector string from unist-util-select, or a function which will be passed the node and return true if it matches\n\n#### findAfter\n\nFind the next node after the given node which matches the given elector\n- `{AstNode} node` a node in the AST to start searching from\n- `{Function} selector` a function which returns true if the node matches\n\nReturns `{AstNode} the first node to match the selector`\n\n#### findBetween\n\nFind all the nodes between the given nodes\n- `{AstNode} nodeOne` a node in the AST to start searching from\n- `{AstNode} nodeTwo` a node in the AST to stop searching at\n\n#### select\n\nFind the first node which matches the selector.  See unist-util-select\n- `{String|Function} selector` a string from unist-util-select or a function which should return true if the node matches\n\nReturns `{AstNode} the first node to match the selector`\n\n#### selectAll\n\nFind all nodes which match the selector.  See unist-util-select\n- `{String|Function} selector` a string from unist-util-select or a function which should return true if the node matches\n\nReturns `{Array[AstNode]} all nodes to match the selector`\n\n#### visit\n\nRun the given visitor function for each node in the document.\n- `{Function} visitor` a function which will be passed a node from the tree.\n\n#### atLine\n\nGet the node at a given line number.\n- `{Number} lineNumber` the line number to find\n\nReturns `{AstNode} the node at the given line number`\n\n#### findNextSiblingHeadingTo\n\nFind the next heading node with the same depth as the given node.\n- `{AstNode} headingNode` a heading node to start searching from\n\nReturns `{AstNode} the next heading node with the same depth as the given node`\n\n#### headingsAtDepth\n\nGet all headings at a given depth.\n- `{Number} depth` the heading depth to find (1-6)\n\nReturns `{Array[AstNode]} all headings at the given depth`\n\n#### findHeadingByText\n\nFind a heading where the content matches the given string.  Not case sensitive.\nPassing false as a second argument will use a substring match.\n- `{String} text` the text of the heading to match\n- `{Boolean} exact` whether to use an exact match or a substring match\n\n\n","id":"api/AstQuery"}},"__N_SSG":true},"page":"/[...catchAll]","query":{"catchAll":["api","AstQuery"]},"buildId":"ZDd31-9Qqapi5epZeOGQx","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>